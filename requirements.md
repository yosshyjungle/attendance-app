# 出席管理Webシステム 要件定義書

**Smart Attendance QR**\
Ver 1.0\
作成日：2026年2月

------------------------------------------------------------------------

## 1. 目的

本システムは、従来教員が毎時間実施している出席確認業務をデジタル化し、

-   教員業務負担の大幅削減\
-   授業時間の確保\
-   出席データの正確性向上\
-   月次集計の自動化\
-   監査・証明書発行の効率化

を実現することを目的とする。

------------------------------------------------------------------------

## 2. 背景・課題

### 現状課題

-   毎時間の出席確認に時間を要する
-   手作業による記録ミス
-   二重管理（紙＋データ）
-   月次集計に事務負担

------------------------------------------------------------------------

## 3. システム概要

### 基本方針

-   出席は**授業単位**で管理
-   判定は**自動化**
-   教員は**例外のみ修正**
-   QRコードを活用

------------------------------------------------------------------------

## 4. 利用者区分

  区分     権限
  -------- --------------------------
  学生     QRによる入退室、出席確認
  教員     出席一覧確認、修正
  管理者   マスター管理、集計出力

------------------------------------------------------------------------

## 5. 出席判定ルール

### 5.1 出席

授業開始時刻までにQR入室

### 5.2 遅刻

開始後15分以内にQR入室

### 5.3 欠席

開始15分経過後も未入室

### 5.4 早退

終了15分前より前に退室

### 5.5 公認遅刻

遅延証明書提出後、教員がステータス修正

------------------------------------------------------------------------

## 6. 機能要件

### 6.1 学生機能

-   入室QR読み取り
-   退室QR読み取り
-   当日授業状況確認
-   月別出席率表示

### 6.2 教員機能

-   授業別出席一覧表示
-   出席ステータス修正
-   修正理由入力
-   月別集計確認

### 6.3 管理者機能

-   クラス管理
-   学生管理
-   時間割管理
-   CSV出力
-   PDF出席証明書出力

------------------------------------------------------------------------

## 7. データ要件

### 主なエンティティ

-   Organization（学校）
-   Class（クラス）
-   Lesson（授業）
-   Student（学生）
-   Attendance（出席記録）
-   User（認証）

### 出席データ項目

  項目                内容
  ------------------- ---------------------------------------
  lesson_id           授業ID
  student_id          学生ID
  check_in            入室時刻
  check_out           退室時刻
  status              present / late / absent / early_leave
  correction_reason   修正理由
  updated_by          修正者
  created_at          作成日時

------------------------------------------------------------------------

## 8. 非機能要件

### セキュリティ

-   Clerk認証必須
-   修正履歴保存（削除不可）
-   HTTPS通信

### 可用性

-   99%以上稼働
-   クラウド環境（Vercel + Supabase）

### バックアップ

-   自動バックアップ
-   年度アーカイブ

### パフォーマンス

-   QR処理3秒以内
-   教員画面一覧1秒以内表示

------------------------------------------------------------------------

## 9. システム構成

-   フロントエンド：Next.js
-   認証：Clerk
-   データベース：Supabase（PostgreSQL）
-   ORM：Prisma
-   デプロイ：Vercel

------------------------------------------------------------------------

## 10. 運用フロー

### 学生

1.  入室時QR読み取り
2.  退室時QR読み取り

### 教員

1.  授業開始時一覧確認
2.  欠席者のみ修正

### 事務

1.  月次出席率確認
2.  証明書発行

------------------------------------------------------------------------

## 11. 導入効果

-   教員作業時間 約80%削減
-   出席確認時間 ほぼゼロ
-   月次集計完全自動化
-   監査即時対応可能

------------------------------------------------------------------------

## 12. 今後の拡張

-   保護者通知
-   LINE連携
-   出席率警告通知
-   AIによる欠席傾向分析
-   マルチ校対応（SaaS化）

------------------------------------------------------------------------

## 13. 導入スケジュール（想定）

  期間      内容
  --------- --------------
  1ヶ月     MVP構築
  2ヶ月目   集計・PDF
  3ヶ月目   本格運用開始

------------------------------------------------------------------------

## 14. リスクと対策

  リスク       対策
  ------------ ----------------------
  代理QR       動的QR導入
  操作忘れ     一括退室処理
  誤判定       教員修正機能
  ネット障害   手動記録バックアップ

------------------------------------------------------------------------

## 15. 本システムの本質

従来：\
\> 出席確認は授業内業務

導入後：\
\> 出席管理はシステム業務

教育の質を落とさず、業務を効率化することを目的とする。